(this.webpackJsonpcowinstatus=this.webpackJsonpcowinstatus||[]).push([[0],{13:function(t,e,i){},14:function(t,e,i){},16:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),s=i(4),c=i.n(s),l=(i(13),i(14),i(5)),o=i(6),h=i(2),r=i(8),b=i(7),d=i(0),u=function(t){Object(r.a)(i,t);var e=Object(b.a)(i);function i(t){var a;return Object(l.a)(this,i),(a=e.call(this,t)).state={pincode:"",hospitals:[],message:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(o.a)(i,[{key:"handleChange",value:function(t){this.setState({pincode:t.target.value})}},{key:"processData",value:function(t){var e=t.centers,i=[],a="None",n="None";e&&e.length>0?(e.forEach((function(t){t.sessions.forEach((function(t){t.min_age_limit<45&&(a="Available",0==t.available_capacity?a="Booked":n="Available")}));var e={district:t.district_name,name:t.name,availablity:a};i.push(e)})),i.sort((function(t,e){return"Available"===t.availablity&&"None"===e.availablity?-1:"None"===t.availablity&&"Available"===e.availablity?1:0})),i=i.filter((function(t,e){return e<10})),this.setState({hospitals:i})):n="Possible invalid pin code",this.setState({message:n})}},{key:"handleSubmit",value:function(t){var e=this;console.log("pin code request sent:",this.state.pincode),this.setState({hospitals:{}}),fetch("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(this.state.pincode,"&date=01-05-2021")).then((function(t){return t.json()})).then((function(t){console.log(t),e.processData(t)})),t.preventDefault()}},{key:"render",value:function(){return Object(d.jsxs)("section",{class:"body",children:[Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsx)("label",{htmlFor:"pincode",className:"pincode-label",children:"Enter pincode:"}),Object(d.jsx)("input",{type:"text",id:"pincode",className:"pincode-text",value:this.state.pincode,onChange:this.handleChange}),Object(d.jsx)("input",{type:"submit",className:"btn-availability",value:"Check Availability"})]}),!(""===this.state.message||"Available"===this.state.message)&&Object(d.jsxs)("div",{className:"availability-msg",children:["Available at any place: ",this.state.message]}),"Available"===this.state.message&&Object(d.jsx)("span",{children:Object(d.jsx)("a",{href:"https://www.cowin.gov.in/",title:"book on cowin",children:" Book on CoWin site"})}),this.state.hospitals.length>0&&Object(d.jsxs)("table",{children:[Object(d.jsx)("th",{children:"Place"}),Object(d.jsx)("th",{children:"Hospital"}),Object(d.jsx)("th",{children:"Availability"}),this.state.hospitals.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.district}),Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.availablity})]})}))]}),Object(d.jsxs)("footer",{children:[Object(d.jsx)("a",{href:"https://trello.com/b/G0AAwP7b/status-board-of-items",children:"Features board"}),Object(d.jsx)("a",{href:"https://github.com/cowinstatus/cowinstatus.github.io",children:"Github"})]})]})}}]),i}(n.a.Component);var j=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsxs)("h1",{children:["Check ",Object(d.jsx)("a",{href:"https://www.cowin.gov.in/",title:"cowin site link",children:"Cowin"})," Schedule Availability"]}),Object(d.jsx)("sub",{children:"This project was initially created to get schedule availability from COWIN site as cowin site didn't contain availability which are now on top page. Will be adding notification feature soon. As of now, you can check if schedule is available for particular location and go to cowin site to book"}),Object(d.jsx)(u,{})]})})},p=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(e){var i=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;i(t),a(t),n(t),s(t),c(t)}))};c.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root")),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.812ef954.chunk.js.map